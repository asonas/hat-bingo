ビンゴアプリケーション

## 背景
高専カンファレンス in 釧路の翌日に遠足イベントに参加して、泉屋本店に行ってスパカツを食べながらビンゴ大会をすることになりビンゴカードを配ることになったが、肝心のビンゴ本体がないということでハッカソン的に10分でつくったアプリケーションです。


## 使い方
ターミナルで

```
$ rails server
```

http://localhost:3000/bingo にアクセスすることで数字がランダムで表示されます
下の数字は過去に出た数字の履歴です
数字の履歴を消したい時はターミナル上で

```
irb(main):001:0> Rails.cache.clear
```

と叩くことでリセットできます。

## できないこと
このアプリケーションでできないことは

- 過去に出た数字の除去

が実装されていません。
なくても問題ありませんが、実際に使っていると何度か重複したので欲し機能です。


## 技術的なお話
実際にみるコードは

```
app/
├── controllers
│   └── welcome_controller.rb
└── views
    └── welcome
        └── index.html.erb
```

これだけです。

### 特記事項

最初は実装時間5分で、ランダムに数字を表示させるアプリケーションをつくったのですが、「数字の履歴があるほうがいい」という顧客の要望をうけて、`Rails.cache`を使用してそこに過去の数字の配列を格納するようにしました。

`Rails.cache`を使った理由ですが、ActiveRecordなどのORマッパを使うのは、migrationファイルを作成したりモデルにコードを書いたりして、実現したい機能とそれにかかる時間などのコストが見合わなくて、ちょっと大変かなと思ったからです。

配列を`Rails.cache.write("nums", @nums)`として突っ込むのは実際便利で、DBを使わなくても履歴を実装することができました。

デフォルトのexpired_inの時間がわからなくてキャッシュに書き込むときに`:expired_in => 2.hours`としてます。

## 他の皆様の実装

万葉社のigaigaさんの実装はこちら
http://twitter.com/igaiga555/status/270020820951236608

- この実装はとてもスマートで好きです。
- ターミナルだけで解決するという発想はあったのですが、やり方がわからなかったので、すごいと思った。

同じくその場にいれJavascriptでビンゴを実装方法(リポジトリのURLはよ)

- 残念ながらビンゴ開始までには間に合いませんでしたが、重複の除去を実装していたり、履歴はconsole.logを使って表示していて必要な時だけコンソールを開けばよくて便利感高い。


## まとめ
突発的に、ビンゴ大会をやるということでびっくりして、しかもビンゴ本体がないという事にさらにびっくりしましたが、
なんとか全員分のスパカツが届く前に実装できてとても嬉しかったのと同時に楽しかったです（高まりすぎて、スパカツ食べるときに腕がプルプルして大変だった）

自分で実装して自分でビンゴできてさらに満足度が高かったです（不正はありません）

![image](https://github.com/downloads/asonas/hat-bingo/IMG_0226.jpg)
![image](https://github.com/downloads/asonas/hat-bingo/IMG_0227.jpg)


g# ありがとうございました。
